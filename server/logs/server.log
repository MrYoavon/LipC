01-05-2025 11:09:42 | INFO     | __main__:27 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 11:09:42 | INFO     | __main__:32 | TensorFlow Version: 2.17.0
01-05-2025 11:09:42 | INFO     | __main__:33 | Is CUDA enabled: False
01-05-2025 11:09:42 | INFO     | __main__:34 | Is ROCm enabled: True
01-05-2025 11:09:45 | INFO     | __main__:53 | Starting WebSocket server...
01-05-2025 11:09:45 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 11:10:25 | INFO     | websockets.server:529 | connection open
01-05-2025 11:10:25 | INFO     | handlers.connection:155 | New connection
01-05-2025 11:10:39 | INFO     | handlers.auth_handler:83 | User 'yoavon2' authenticated with ID 680d405ca183764e786f0ef9.
01-05-2025 11:10:39 | INFO     | handlers.contacts_handler:101 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 11:10:39 | INFO     | handlers.contacts_handler:101 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 11:10:39 | INFO     | handlers.call_handler:175 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 11:10:39 | INFO     | handlers.call_handler:175 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 11:10:58 | INFO     | handlers.call_handler:43 | Call invite from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 11:11:02 | INFO     | handlers.call_history_handler:79 | Fetched 6 history entries for user 680d405ca183764e786f0ef9
01-05-2025 11:11:07 | INFO     | handlers.call_history_handler:79 | Fetched 6 history entries for user 680d405ca183764e786f0ef9
01-05-2025 11:11:09 | INFO     | handlers.call_history_handler:79 | Fetched 6 history entries for user 680d405ca183764e786f0ef9
01-05-2025 11:11:11 | INFO     | handlers.call_handler:175 | Set model preference for 680d405ca183764e786f0ef9 to vosk
01-05-2025 11:11:12 | INFO     | handlers.call_handler:175 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 11:11:22 | ERROR    | handlers.connection:193 | Connection loop error
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 170, in handle_connection
    async for raw in ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 11:11:26 | INFO     | websockets.server:440 | server closing
01-05-2025 11:11:26 | INFO     | websockets.server:473 | server closed
01-05-2025 11:13:01 | INFO     | __main__:27 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 11:13:01 | INFO     | __main__:32 | TensorFlow Version: 2.17.0
01-05-2025 11:13:01 | INFO     | __main__:33 | Is CUDA enabled: False
01-05-2025 11:13:01 | INFO     | __main__:34 | Is ROCm enabled: True
01-05-2025 11:13:03 | INFO     | __main__:53 | Starting WebSocket server...
01-05-2025 11:13:03 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 11:13:05 | INFO     | websockets.server:440 | server closing
01-05-2025 11:13:05 | INFO     | websockets.server:473 | server closed
01-05-2025 20:21:08 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 20:21:08 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 20:21:08 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 20:21:08 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 20:21:32 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 20:21:32 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 20:21:32 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 20:21:32 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 20:24:52 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 20:24:52 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 20:24:52 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 20:24:52 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 20:24:54 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 20:24:54 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 20:25:35 | INFO     | websockets.server:529 | connection open
01-05-2025 20:25:35 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:25:36 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 125, in handle_connection
    await self._dispatch(data)
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 228, in _dispatch
    return await handler(self.ws, data, self.aes_key)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuthHandler.handle_refresh_token() takes 3 positional arguments but 4 were given
01-05-2025 20:25:38 | INFO     | websockets.server:529 | connection open
01-05-2025 20:25:38 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:27:28 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 20:27:29 | INFO     | websockets.server:440 | server closing
01-05-2025 20:27:29 | INFO     | websockets.server:473 | server closed
01-05-2025 20:27:35 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 20:27:35 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 20:27:35 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 20:27:35 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 20:27:37 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 20:27:37 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 20:27:51 | INFO     | websockets.server:529 | connection open
01-05-2025 20:27:51 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:27:52 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 20:27:52 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:27:52 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:27:53 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:27:53 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:27:56 | INFO     | handlers.call_history_handler:43 | Fetched 34 history entries for user 67d6bae7386c75bcc71b6890
01-05-2025 20:28:02 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to vosk
01-05-2025 20:28:03 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:28:17 | INFO     | handlers.contacts_handler:62 | Added contact 'testuser' for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:28:17 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:29:36 | INFO     | handlers.call_handler:34 | Call invite from 67d6bae7386c75bcc71b6890 to 68123f23c3eb6dc4b0a0128b
01-05-2025 20:30:28 | INFO     | websockets.server:529 | connection open
01-05-2025 20:30:28 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:30:28 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 680d405ca183764e786f0ef9.
01-05-2025 20:30:28 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 20:30:28 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 20:30:29 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 20:30:29 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 20:30:30 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:30:33 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 20:30:34 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:30:42 | INFO     | websockets.server:529 | connection open
01-05-2025 20:30:42 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:30:47 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:31:00 | INFO     | websockets.server:529 | connection open
01-05-2025 20:31:00 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:31:02 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:31:14 | INFO     | websockets.server:529 | connection open
01-05-2025 20:31:14 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:31:20 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:31:32 | INFO     | websockets.server:529 | connection open
01-05-2025 20:31:32 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:31:34 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:31:46 | INFO     | websockets.server:529 | connection open
01-05-2025 20:31:46 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:31:52 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:32:04 | INFO     | websockets.server:529 | connection open
01-05-2025 20:32:04 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:32:06 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:32:16 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 20:32:18 | INFO     | websockets.server:529 | connection open
01-05-2025 20:32:18 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:32:33 | INFO     | websockets.server:529 | connection open
01-05-2025 20:32:33 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:32:33 | ERROR    | handlers.connection:100 | Handshake failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 98, in handle_connection
    self.aes_key = await self._perform_handshake()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 160, in _perform_handshake
    raise ValueError("Invalid handshake response")
ValueError: Invalid handshake response
01-05-2025 20:32:37 | INFO     | websockets.server:529 | connection open
01-05-2025 20:32:37 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:32:38 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:32:43 | ERROR    | asyncio:1821 | Task exception was never retrieved
future: <Task finished name='Task-45' coro=<ConnectionHandler._heartbeat() done, defined at /home/yoav/VSCode/Lip-C/server/handlers/connection.py:168> exception=TypeError("'float' object is not subscriptable")>
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 180, in _heartbeat
    if time.time() - self.last_ping[0] > HEARTBEAT_TIMEOUT:
                     ~~~~~~~~~~~~~~^^^
TypeError: 'float' object is not subscriptable
01-05-2025 20:32:50 | INFO     | websockets.server:529 | connection open
01-05-2025 20:32:50 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:32:57 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:33:09 | INFO     | websockets.server:529 | connection open
01-05-2025 20:33:09 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:33:10 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:33:23 | INFO     | websockets.server:529 | connection open
01-05-2025 20:33:23 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:33:29 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:33:41 | INFO     | websockets.server:529 | connection open
01-05-2025 20:33:41 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:33:42 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:33:55 | INFO     | websockets.server:529 | connection open
01-05-2025 20:33:55 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:34:01 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:34:14 | INFO     | websockets.server:529 | connection open
01-05-2025 20:34:14 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:34:15 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:34:27 | INFO     | websockets.server:529 | connection open
01-05-2025 20:34:27 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:34:33 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:34:37 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 20:41:51 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 20:53:22 | INFO     | websockets.server:529 | connection open
01-05-2025 20:53:22 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:53:22 | ERROR    | handlers.connection:100 | Handshake failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 98, in handle_connection
    self.aes_key = await self._perform_handshake()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 160, in _perform_handshake
    raise ValueError("Invalid handshake response")
ValueError: Invalid handshake response
01-05-2025 20:53:22 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 101, in handle_connection
    await self.ws.send(json.dumps({"error": "Handshake failed"}))
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 476, in send
    async with self.send_context():
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 957, in send_context
    raise self.protocol.close_exc from original_exc
websockets.exceptions.ConnectionClosedOK: received 1000 (OK); then sent 1000 (OK)
01-05-2025 20:53:27 | ERROR    | services.crypto_utils:202 | Failed to send encrypted message: received 1000 (OK); then sent 1000 (OK)
01-05-2025 20:53:29 | INFO     | websockets.server:529 | connection open
01-05-2025 20:53:29 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:53:32 | ERROR    | asyncio:1821 | Task exception was never retrieved
future: <Task finished name='Task-81' coro=<ConnectionHandler._heartbeat() done, defined at /home/yoav/VSCode/Lip-C/server/handlers/connection.py:168> exception=TypeError("'float' object is not subscriptable")>
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 180, in _heartbeat
    if time.time() - self.last_ping[0] > HEARTBEAT_TIMEOUT:
                     ~~~~~~~~~~~~~~^^^
TypeError: 'float' object is not subscriptable
01-05-2025 20:53:39 | INFO     | websockets.server:529 | connection open
01-05-2025 20:53:39 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:53:48 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:54:01 | INFO     | websockets.server:529 | connection open
01-05-2025 20:54:01 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:54:09 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:54:21 | INFO     | websockets.server:529 | connection open
01-05-2025 20:54:21 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:54:31 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:54:43 | INFO     | websockets.server:529 | connection open
01-05-2025 20:54:43 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:54:43 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 20:54:44 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 20:54:45 | INFO     | websockets.server:529 | connection open
01-05-2025 20:54:45 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:54:45 | INFO     | websockets.server:529 | connection open
01-05-2025 20:54:45 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:54:46 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 308, in recv
    raise ConcurrencyError(
websockets.exceptions.ConcurrencyError: cannot call recv while another coroutine is already running recv or recv_streaming
01-05-2025 20:54:48 | INFO     | websockets.server:529 | connection open
01-05-2025 20:54:48 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:54:55 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:55:03 | INFO     | handlers.auth_handler:88 | User 'yoavon2' authenticated with ID 680d405ca183764e786f0ef9.
01-05-2025 20:55:03 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 20:55:03 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 20:55:04 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 20:55:04 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 20:55:07 | INFO     | websockets.server:529 | connection open
01-05-2025 20:55:07 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:55:08 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:55:10 | INFO     | handlers.auth_handler:88 | User 'idodo' authenticated with ID 67d6bae7386c75bcc71b6890.
01-05-2025 20:55:10 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:55:10 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:55:11 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:55:11 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:55:15 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:55:20 | INFO     | websockets.server:529 | connection open
01-05-2025 20:55:20 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:55:27 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:55:39 | INFO     | websockets.server:529 | connection open
01-05-2025 20:55:39 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:55:40 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:55:52 | INFO     | websockets.server:529 | connection open
01-05-2025 20:55:52 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:55:59 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:56:11 | INFO     | websockets.server:529 | connection open
01-05-2025 20:56:11 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:56:12 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:56:24 | INFO     | websockets.server:529 | connection open
01-05-2025 20:56:24 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:56:31 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:56:41 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:56:53 | INFO     | websockets.server:529 | connection open
01-05-2025 20:56:53 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:56:54 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:57:06 | INFO     | websockets.server:529 | connection open
01-05-2025 20:57:06 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:57:13 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 204, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:57:16 | INFO     | websockets.server:440 | server closing
01-05-2025 20:57:17 | INFO     | websockets.server:473 | server closed
01-05-2025 20:57:24 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 20:57:24 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 20:57:24 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 20:57:24 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 20:57:26 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 20:57:26 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 20:57:26 | INFO     | websockets.server:529 | connection open
01-05-2025 20:57:26 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:57:27 | INFO     | websockets.server:529 | connection open
01-05-2025 20:57:27 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:57:28 | ERROR    | handlers.connection:128 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 105, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 308, in recv
    raise ConcurrencyError(
websockets.exceptions.ConcurrencyError: cannot call recv while another coroutine is already running recv or recv_streaming
01-05-2025 20:57:31 | INFO     | websockets.server:529 | connection open
01-05-2025 20:57:31 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:57:37 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 205, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:57:49 | INFO     | websockets.server:529 | connection open
01-05-2025 20:57:49 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:57:51 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 205, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:58:03 | INFO     | websockets.server:529 | connection open
01-05-2025 20:58:03 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:58:09 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 205, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:58:21 | INFO     | websockets.server:529 | connection open
01-05-2025 20:58:21 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:58:23 | ERROR    | handlers.connection:115 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 113, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 205, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:58:35 | INFO     | websockets.server:529 | connection open
01-05-2025 20:58:35 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:58:39 | INFO     | websockets.server:440 | server closing
01-05-2025 20:58:39 | INFO     | websockets.server:473 | server closed
01-05-2025 20:58:45 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 20:58:45 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 20:58:45 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 20:58:45 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 20:58:47 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 20:58:47 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 20:58:49 | INFO     | websockets.server:529 | connection open
01-05-2025 20:58:49 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:58:50 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 20:58:50 | ERROR    | handlers.connection:129 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 20:58:52 | INFO     | websockets.server:529 | connection open
01-05-2025 20:58:52 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:58:53 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 20:58:53 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 20:58:53 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:58:53 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 20:58:54 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:58:54 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 20:59:03 | INFO     | handlers.call_history_handler:43 | Fetched 34 history entries for user 67d6bae7386c75bcc71b6890
01-05-2025 20:59:22 | INFO     | websockets.server:529 | connection open
01-05-2025 20:59:22 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:59:22 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 20:59:22 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 680d405ca183764e786f0ef9.
01-05-2025 20:59:23 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 20:59:23 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 20:59:23 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 20:59:23 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 20:59:27 | INFO     | handlers.call_history_handler:43 | Fetched 6 history entries for user 680d405ca183764e786f0ef9
01-05-2025 20:59:30 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67d6ac66690cf954baffc8a2
01-05-2025 20:59:31 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 20:59:43 | INFO     | websockets.server:529 | connection open
01-05-2025 20:59:43 | INFO     | handlers.connection:89 | New connection
01-05-2025 20:59:44 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 20:59:52 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:00:04 | INFO     | websockets.server:529 | connection open
01-05-2025 21:00:04 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:00:04 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:00:13 | INFO     | handlers.call_history_handler:43 | Fetched 6 history entries for user 680d405ca183764e786f0ef9
01-05-2025 21:00:13 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:00:25 | INFO     | websockets.server:529 | connection open
01-05-2025 21:00:25 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:00:26 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:00:34 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:00:46 | INFO     | websockets.server:529 | connection open
01-05-2025 21:00:46 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:00:46 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:00:55 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:01:07 | INFO     | websockets.server:529 | connection open
01-05-2025 21:01:07 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:01:08 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:01:16 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:01:28 | INFO     | websockets.server:529 | connection open
01-05-2025 21:01:28 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:01:28 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:01:37 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:01:49 | INFO     | websockets.server:529 | connection open
01-05-2025 21:01:49 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:01:50 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:01:58 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:02:10 | INFO     | websockets.server:529 | connection open
01-05-2025 21:02:10 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:02:10 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:02:19 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:02:31 | INFO     | websockets.server:529 | connection open
01-05-2025 21:02:31 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:02:32 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:02:40 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:02:52 | INFO     | websockets.server:529 | connection open
01-05-2025 21:02:52 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:02:52 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:03:01 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 206, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:03:14 | INFO     | websockets.server:529 | connection open
01-05-2025 21:03:14 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:03:14 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:03:20 | INFO     | websockets.server:440 | server closing
01-05-2025 21:03:21 | INFO     | websockets.server:473 | server closed
01-05-2025 21:03:27 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:03:27 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:03:27 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:03:27 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:03:29 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:03:29 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:03:31 | INFO     | websockets.server:529 | connection open
01-05-2025 21:03:31 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:03:31 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:03:33 | INFO     | websockets.server:529 | connection open
01-05-2025 21:03:33 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:03:33 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:03:37 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67d6ac66690cf954baffc8a2
01-05-2025 21:03:41 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:03:59 | INFO     | websockets.server:529 | connection open
01-05-2025 21:03:59 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:03:59 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:04:03 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:04:15 | INFO     | websockets.server:529 | connection open
01-05-2025 21:04:15 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:04:15 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:04:19 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:04:31 | INFO     | websockets.server:529 | connection open
01-05-2025 21:04:31 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:04:31 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:04:35 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:04:47 | INFO     | websockets.server:529 | connection open
01-05-2025 21:04:47 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:04:47 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:04:51 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:05:03 | INFO     | websockets.server:529 | connection open
01-05-2025 21:05:03 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:05:03 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:05:07 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:05:19 | INFO     | websockets.server:529 | connection open
01-05-2025 21:05:19 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:05:19 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:05:23 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:05:35 | INFO     | websockets.server:529 | connection open
01-05-2025 21:05:35 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:05:36 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:05:39 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:05:51 | INFO     | websockets.server:529 | connection open
01-05-2025 21:05:51 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:05:51 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:05:55 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:06:07 | INFO     | websockets.server:529 | connection open
01-05-2025 21:06:07 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:06:08 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:06:11 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:06:23 | INFO     | websockets.server:529 | connection open
01-05-2025 21:06:23 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:06:23 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:06:27 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:06:39 | INFO     | websockets.server:529 | connection open
01-05-2025 21:06:39 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:06:40 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:06:43 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:06:55 | INFO     | websockets.server:529 | connection open
01-05-2025 21:06:55 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:06:55 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:06:59 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:07:11 | INFO     | websockets.server:529 | connection open
01-05-2025 21:07:11 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:07:12 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:07:15 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:07:27 | INFO     | websockets.server:529 | connection open
01-05-2025 21:07:27 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:07:27 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:07:31 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:07:43 | INFO     | websockets.server:529 | connection open
01-05-2025 21:07:43 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:07:44 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:07:47 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:07:59 | INFO     | websockets.server:529 | connection open
01-05-2025 21:07:59 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:07:59 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:08:03 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:08:15 | INFO     | websockets.server:529 | connection open
01-05-2025 21:08:15 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:08:16 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:08:19 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:08:31 | INFO     | websockets.server:529 | connection open
01-05-2025 21:08:31 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:08:31 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:08:35 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:08:47 | INFO     | websockets.server:529 | connection open
01-05-2025 21:08:47 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:08:48 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:08:51 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:09:03 | INFO     | websockets.server:529 | connection open
01-05-2025 21:09:03 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:09:03 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:09:07 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:09:19 | INFO     | websockets.server:529 | connection open
01-05-2025 21:09:19 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:09:20 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:09:23 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:09:35 | INFO     | websockets.server:529 | connection open
01-05-2025 21:09:35 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:09:35 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:09:39 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:09:49 | INFO     | websockets.server:440 | server closing
01-05-2025 21:09:49 | INFO     | websockets.server:473 | server closed
01-05-2025 21:09:56 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:09:56 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:09:56 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:09:56 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:09:57 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:09:57 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:09:59 | INFO     | websockets.server:529 | connection open
01-05-2025 21:09:59 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:09:59 | INFO     | websockets.server:529 | connection open
01-05-2025 21:09:59 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:10:00 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:10:00 | ERROR    | handlers.connection:130 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 308, in recv
    raise ConcurrencyError(
websockets.exceptions.ConcurrencyError: cannot call recv while another coroutine is already running recv or recv_streaming
01-05-2025 21:10:00 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:10:04 | INFO     | websockets.server:529 | connection open
01-05-2025 21:10:04 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:10:04 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:10:09 | ERROR    | handlers.connection:117 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 115, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 208, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:10:23 | INFO     | websockets.server:529 | connection open
01-05-2025 21:10:23 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:10:24 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:10:36 | INFO     | websockets.server:529 | connection open
01-05-2025 21:10:36 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:10:36 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:10:43 | ERROR    | handlers.connection:117 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 115, in handle_connection
    except Exception as e:
               ^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 208, in _decrypt_and_parse
    return json.loads(plain.decode())
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:10:53 | ERROR    | handlers.connection:130 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 21:11:24 | INFO     | websockets.server:440 | server closing
01-05-2025 21:11:24 | INFO     | websockets.server:473 | server closed
01-05-2025 21:11:30 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:11:30 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:11:30 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:11:30 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:11:32 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:11:32 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:11:33 | INFO     | websockets.server:529 | connection open
01-05-2025 21:11:33 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:11:34 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:11:57 | INFO     | handlers.auth_handler:88 | User 'yoavon2' authenticated with ID 680d405ca183764e786f0ef9.
01-05-2025 21:11:57 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:11:57 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:11:58 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:11:58 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:12:02 | INFO     | handlers.call_history_handler:43 | Fetched 6 history entries for user 680d405ca183764e786f0ef9
01-05-2025 21:12:15 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67eac8b7f1a309b3a84085f5
01-05-2025 21:12:32 | INFO     | websockets.server:529 | connection open
01-05-2025 21:12:32 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:12:33 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:12:33 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 21:12:33 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:12:33 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:12:33 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:12:34 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:12:34 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:12:45 | INFO     | websockets.server:529 | connection open
01-05-2025 21:12:45 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:12:46 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:12:51 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:13:03 | INFO     | websockets.server:529 | connection open
01-05-2025 21:13:03 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:13:04 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:13:05 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:13:17 | INFO     | websockets.server:529 | connection open
01-05-2025 21:13:17 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:13:18 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:13:23 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:13:35 | INFO     | websockets.server:529 | connection open
01-05-2025 21:13:35 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:13:36 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:13:37 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:13:49 | INFO     | websockets.server:529 | connection open
01-05-2025 21:13:49 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:13:50 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:13:55 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:14:07 | INFO     | websockets.server:529 | connection open
01-05-2025 21:14:07 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:14:08 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:14:09 | ERROR    | handlers.connection:116 | Decrypt/parse error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 170, in decrypt_message
    plaintext = decryptor.update(ciphertext) + decryptor.finalize()
                                               ^^^^^^^^^^^^^^^^^^^^
cryptography.exceptions.InvalidTag

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 114, in handle_connection
    data = await self._decrypt_and_parse(raw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 207, in _decrypt_and_parse
    plain = decrypt_message(self.aes_key, nonce, ct, tag)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/services/crypto_utils.py", line 173, in decrypt_message
    raise Exception("Decryption failed: " + str(e))
Exception: Decryption failed: 
01-05-2025 21:14:49 | INFO     | websockets.server:440 | server closing
01-05-2025 21:14:49 | INFO     | websockets.server:473 | server closed
01-05-2025 21:14:56 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:14:56 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:14:56 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:14:56 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:14:58 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:14:58 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:14:59 | INFO     | websockets.server:529 | connection open
01-05-2025 21:14:59 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:01 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:01 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:02 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:02 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:03 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:03 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:06 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:06 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:07 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:07 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:12 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:12 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: connection_entry() missing 1 required positional argument: 'path'
01-05-2025 21:15:13 | INFO     | websockets.server:440 | server closing
01-05-2025 21:15:13 | INFO     | websockets.server:473 | server closed
01-05-2025 21:15:19 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:15:19 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:15:19 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:15:19 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:15:21 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:15:21 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:15:21 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:21 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:15:22 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:22 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:15:22 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:15:22 | ERROR    | handlers.connection:129 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 21:15:23 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:15:24 | INFO     | websockets.server:529 | connection open
01-05-2025 21:15:24 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:15:25 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:15:26 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 21:15:26 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:15:26 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:15:26 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:15:26 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:15:33 | INFO     | handlers.auth_handler:88 | User 'yoavon2' authenticated with ID 680d405ca183764e786f0ef9.
01-05-2025 21:15:34 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:15:34 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:15:34 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:15:34 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:15:36 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67d6ac66690cf954baffc8a2
01-05-2025 21:15:39 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:41 | INFO     | handlers.call_handler:100 | Call rejected by 67d6bae7386c75bcc71b6890 for 680d405ca183764e786f0ef9
01-05-2025 21:15:42 | INFO     | handlers.call_handler:34 | Call invite from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:44 | INFO     | handlers.call_handler:67 | Call accepted by 67d6bae7386c75bcc71b6890 for 680d405ca183764e786f0ef9
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:320 | Offer from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:46 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:320 | Offer from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:472 | Server-side offer from 680d405ca183764e786f0ef9 for 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:65 | Received audio track from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:65 | Received video track from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:229 | Generated answer for 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:486 | Sent server answer to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('192.168.1.103', 59960)) State.FROZEN -> State.WAITING
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('192.168.1.103', 57813)) State.FROZEN -> State.WAITING
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:265 | PC state for 680d405ca183764e786f0ef9: connecting
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('192.168.1.103', 59960)) State.WAITING -> State.IN_PROGRESS
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('192.168.1.103', 59960)) State.IN_PROGRESS -> State.SUCCEEDED
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('127.0.0.1', 46363)) State.FROZEN -> State.WAITING
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('85.64.221.23', 13686)) State.FROZEN -> State.WAITING
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('192.168.1.103', 57813)) State.WAITING -> State.FAILED
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('127.0.0.1', 46363)) State.WAITING -> State.FAILED
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) Check CandidatePair(('192.168.1.5', 34815) -> ('85.64.221.23', 13686)) State.WAITING -> State.FAILED
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(0) ICE completed
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:265 | PC state for 680d405ca183764e786f0ef9: connected
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:371 | Answer from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:320 | Offer from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:472 | Server-side offer from 67d6bae7386c75bcc71b6890 for 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:65 | Received audio track from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:65 | Received video track from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:97 | Starting lip-reading video for 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:229 | Generated answer for 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:486 | Sent server answer to 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) Check CandidatePair(('192.168.1.5', 37868) -> ('192.168.1.184', 53080)) State.FROZEN -> State.WAITING
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) Check CandidatePair(('192.168.1.5', 37868) -> ('127.0.0.1', 44191)) State.FROZEN -> State.WAITING
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:265 | PC state for 67d6bae7386c75bcc71b6890: connecting
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) Check CandidatePair(('192.168.1.5', 37868) -> ('192.168.1.184', 53080)) State.WAITING -> State.IN_PROGRESS
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) Check CandidatePair(('192.168.1.5', 37868) -> ('192.168.1.184', 53080)) State.IN_PROGRESS -> State.SUCCEEDED
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) Check CandidatePair(('192.168.1.5', 37868) -> ('127.0.0.1', 44191)) State.WAITING -> State.IN_PROGRESS
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) Check CandidatePair(('192.168.1.5', 37868) -> ('85.64.221.23', 47148)) State.FROZEN -> State.IN_PROGRESS
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:97 | Starting lip-reading video for 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | aioice.ice:1114 | Connection(2) ICE completed
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:265 | PC state for 67d6bae7386c75bcc71b6890: connected
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to 680d405ca183764e786f0ef9
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:423 | ICE candidate from 67d6bae7386c75bcc71b6890 to server
01-05-2025 21:15:47 | INFO     | handlers.signaling_handler:541 | Server-side ICE candidate from 67d6bae7386c75bcc71b6890
01-05-2025 21:15:52 | INFO     | handlers.signaling_handler:121 | Lip prediction for 680d405ca183764e786f0ef9: lay whe it nir now
01-05-2025 21:15:53 | INFO     | handlers.signaling_handler:121 | Lip prediction for 680d405ca183764e786f0ef9: lat gred in nin now
01-05-2025 21:15:55 | INFO     | handlers.signaling_handler:121 | Lip prediction for 680d405ca183764e786f0ef9: lay wre it sive now
01-05-2025 21:15:56 | INFO     | handlers.signaling_handler:121 | Lip prediction for 680d405ca183764e786f0ef9: lay bh it nin soon
01-05-2025 21:15:58 | INFO     | handlers.signaling_handler:121 | Lip prediction for 67d6bae7386c75bcc71b6890: set bh it nin soon
01-05-2025 21:16:00 | INFO     | handlers.signaling_handler:121 | Lip prediction for 67d6bae7386c75bcc71b6890: set wh it  nin soon
01-05-2025 21:16:03 | INFO     | handlers.signaling_handler:121 | Lip prediction for 680d405ca183764e786f0ef9: set bhe in nin now
01-05-2025 21:16:10 | INFO     | handlers.signaling_handler:121 | Lip prediction for 680d405ca183764e786f0ef9: lat bl it nin now
01-05-2025 21:16:11 | ERROR    | handlers.signaling_handler:104 | Error receiving video frame: 
01-05-2025 21:16:11 | INFO     | handlers.signaling_handler:265 | PC state for 680d405ca183764e786f0ef9: closed
01-05-2025 21:16:11 | INFO     | handlers.signaling_handler:286 | Call 6813ba53762675ed5fa4bd08 ended for 680d405ca183764e786f0ef9
01-05-2025 21:16:12 | INFO     | handlers.call_handler:134 | Call end request from 680d405ca183764e786f0ef9 to 67d6bae7386c75bcc71b6890
01-05-2025 21:16:12 | ERROR    | handlers.signaling_handler:104 | Error receiving video frame: 
01-05-2025 21:16:12 | INFO     | handlers.signaling_handler:265 | PC state for 67d6bae7386c75bcc71b6890: closed
01-05-2025 21:16:12 | INFO     | handlers.signaling_handler:286 | Call 6813ba53762675ed5fa4bd08 ended for 67d6bae7386c75bcc71b6890
01-05-2025 21:16:16 | INFO     | handlers.call_history_handler:43 | Fetched 7 history entries for user 680d405ca183764e786f0ef9
01-05-2025 21:16:58 | INFO     | websockets.server:440 | server closing
01-05-2025 21:16:58 | INFO     | websockets.server:473 | server closed
01-05-2025 21:17:05 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:17:05 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:17:05 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:17:05 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:17:07 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:17:07 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:17:10 | INFO     | websockets.server:529 | connection open
01-05-2025 21:17:10 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:17:10 | INFO     | websockets.server:529 | connection open
01-05-2025 21:17:10 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:17:11 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:17:11 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:18:24 | ERROR    | handlers.connection:129 | Connection loop error
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 21:18:33 | INFO     | websockets.server:529 | connection open
01-05-2025 21:18:33 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:18:34 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:18:36 | ERROR    | handlers.connection:129 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 21:18:37 | INFO     | websockets.server:529 | connection open
01-05-2025 21:18:37 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:18:38 | ERROR    | handlers.connection:129 | Connection loop error
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 106, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent
01-05-2025 21:18:38 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:18:40 | INFO     | websockets.server:529 | connection open
01-05-2025 21:18:40 | INFO     | handlers.connection:89 | New connection
01-05-2025 21:18:41 | INFO     | handlers.connection:99 | Handshake successful
01-05-2025 21:20:31 | INFO     | websockets.server:440 | server closing
01-05-2025 21:20:31 | INFO     | websockets.server:473 | server closed
01-05-2025 21:20:38 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:20:38 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:20:38 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:20:38 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:20:39 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:20:39 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:20:54 | INFO     | websockets.server:529 | connection open
01-05-2025 21:20:54 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:20:54 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:20:54 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 680d405ca183764e786f0ef9.
01-05-2025 21:20:55 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:20:55 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:20:55 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:20:55 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:21:02 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to vosk
01-05-2025 21:21:11 | INFO     | websockets.server:529 | connection open
01-05-2025 21:21:11 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:21:12 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:21:12 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 21:21:12 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:21:12 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:21:13 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:21:13 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:21:16 | ERROR    | websockets.server:378 | connection handler failed
Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 108, in handle_connection
    async for raw in self.ws:
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 242, in __aiter__
    yield await self.recv()
          ^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/connection.py", line 322, in recv
    raise self.protocol.close_exc from self.recv_exc
websockets.exceptions.ConnectionClosedError: no close frame received or sent

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
  File "/home/yoav/VSCode/Lip-C/server/app.py", line 87, in connection_entry
    await handler.handle_connection(ws)
  File "/home/yoav/VSCode/Lip-C/server/handlers/connection.py", line 129, in handle_connection
    except websockets.exceptions.CibbectuibCkisedError:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/yoav/VSCode/Lip-C/server/venv/lib/python3.12/site-packages/websockets/imports.py", line 93, in __getattr__
    raise AttributeError(f"module {package!r} has no attribute {name!r}")
AttributeError: module 'websockets.exceptions' has no attribute 'CibbectuibCkisedError'
01-05-2025 21:21:18 | INFO     | websockets.server:529 | connection open
01-05-2025 21:21:18 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:21:19 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:21:19 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 21:21:19 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:21:19 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:21:20 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:21:20 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:21:30 | INFO     | websockets.server:440 | server closing
01-05-2025 21:21:30 | INFO     | websockets.server:473 | server closed
01-05-2025 21:21:37 | INFO     | __main__:38 | Using GPU: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
01-05-2025 21:21:37 | INFO     | __main__:43 | TensorFlow Version: 2.17.0
01-05-2025 21:21:37 | INFO     | __main__:44 | Is CUDA enabled: False
01-05-2025 21:21:37 | INFO     | __main__:45 | Is ROCm enabled: True
01-05-2025 21:21:39 | INFO     | __main__:77 | Starting WebSocket server...
01-05-2025 21:21:39 | INFO     | websockets.server:341 | server listening on 192.168.1.5:8765
01-05-2025 21:21:41 | INFO     | websockets.server:529 | connection open
01-05-2025 21:21:41 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:21:41 | INFO     | websockets.server:529 | connection open
01-05-2025 21:21:41 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:21:41 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:21:41 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 680d405ca183764e786f0ef9.
01-05-2025 21:21:41 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:21:41 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:21:42 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:21:42 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to vosk
01-05-2025 21:21:43 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:21:47 | INFO     | handlers.connection:130 | Connection closed by client
01-05-2025 21:21:49 | INFO     | websockets.server:529 | connection open
01-05-2025 21:21:49 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:21:51 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:21:59 | INFO     | handlers.auth_handler:70 | Authentication failed: incorrect password for 'idodo'.
01-05-2025 21:22:02 | INFO     | handlers.auth_handler:88 | User 'idodo' authenticated with ID 67d6bae7386c75bcc71b6890.
01-05-2025 21:22:03 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:22:03 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:22:03 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:22:03 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:22:08 | INFO     | handlers.connection:130 | Connection closed by client
01-05-2025 21:22:09 | INFO     | handlers.connection:130 | Connection closed by client
01-05-2025 21:22:10 | INFO     | websockets.server:529 | connection open
01-05-2025 21:22:10 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:22:10 | INFO     | websockets.server:529 | connection open
01-05-2025 21:22:10 | INFO     | handlers.connection:91 | New connection
01-05-2025 21:22:11 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:22:11 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 680d405ca183764e786f0ef9.
01-05-2025 21:22:11 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:22:11 | INFO     | handlers.contacts_handler:104 | Retrieved 3 contacts for user '680d405ca183764e786f0ef9'
01-05-2025 21:22:11 | INFO     | handlers.connection:101 | Handshake successful
01-05-2025 21:22:11 | INFO     | handlers.auth_handler:289 | Access token refreshed for user ID 67d6bae7386c75bcc71b6890.
01-05-2025 21:22:11 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to lip
01-05-2025 21:22:11 | INFO     | handlers.call_handler:211 | Set model preference for 680d405ca183764e786f0ef9 to vosk
01-05-2025 21:22:11 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:22:11 | INFO     | handlers.contacts_handler:104 | Retrieved 4 contacts for user '67d6bae7386c75bcc71b6890'
01-05-2025 21:22:12 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:22:12 | INFO     | handlers.call_handler:211 | Set model preference for 67d6bae7386c75bcc71b6890 to lip
01-05-2025 21:22:25 | INFO     | handlers.connection:130 | Connection closed by client
01-05-2025 21:22:35 | INFO     | handlers.connection:130 | Connection closed by client
